/*! sortboard v1.0.4 | (c) 2015 Jose Luis Quintana (https://github.com/joseluisq) | MIT */
!function(){"use strict";function a(b,c){return this instanceof a?(this.currentFilter="all",this.elements=[],this.found=[],this.notfound=[],this.options={gutter:0,hiddenClass:".hidden",itemsMatchName:"li",filterComplete:null,sortComplete:null},void("object"==typeof b?b.nodeName?(this.setElement(b),this.setOptions(c),this.addEvents()):this.setOptions(c):this.error("Sortboard requires an HTML element."))):new a(b,c)}function b(a){return{filterBy:function(b){a.filterBy(b)},sort:function(){a.sort()},getFilter:function(){return a.currentFilter},getItems:function(){return a.elements},getFoundItems:function(){return a.found},getNotFoundItems:function(){return a.notfound}}}if(!window.Sortboard&&(a.prototype.setOptions=function(a){this.options=this.merge(this.options,a)},a.prototype.merge=function(a,b){var c;if(b)for(c in b)a[c]=b[c];return a},a.prototype.addEvents=function(){var a=this;window.addEventListener("resize",function(){a.sort()},!1),a.sort()},a.prototype.setElement=function(a){this.element=a},a.prototype.sort=function(){var a,b,c,d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l=0,m=0;h=this.element.parentElement.offsetWidth,b=this.options.gutter,c=this.getElements(this.options.itemsMatchName),this.size=c.length;var n=new RegExp("("+this.options.hiddenClass.replace(".","")+")+","i");for(d=0;d<this.size;++d)a=c[d],a.className.match(n)||(f=a.offsetWidth,g=a.offsetHeight,i>=h-g-b?(i=0,j+=g+b,m||(m=e*f+(e*b-b))):i+=e?b:0,i+=f,k=i-f,l=j+g,e++,a.setAttribute("data-cords",k+","+j),this.translate(a,k+","+j,!1));this.element.style.width=(m?m:e*f+(2>e?e:e-1)*b).toString()+"px",this.element.style.height=l.toString()+"px",this.options.sortComplete&&"function"==typeof this.options.sortComplete&&this.options.sortComplete()},a.prototype.filterBy=function(a){if(a&&(this.currentFilter!==a||"all"===a)){var b,c,d,e,f,g,h,i=[];for(f=new RegExp(a,"i"),h=this.getElements(this.options.itemsMatchName),b=0;b<this.size;++b)g=h[b],c=g.getAttribute("data-filter"),c&&-1!==c.search(f)&&i.push(g);for(this.currentFilter=a,this.found=[],this.notfound=[],b=0;b<this.size;++b)g=h[b],e=g.getAttribute("data-cords"),"all"===a.toString().toLowerCase()?(this.found.push(g),this.translate(g,e,!1)):(c=g.getAttribute("data-filter"),d=c&&-1!==c.search(f),d?this.found.push(g):this.notfound.push(g),this.translate(g,e,!d))}this.options.filterComplete&&"function"==typeof this.options.filterComplete&&this.options.filterComplete(this.found||[]),this.found.length>0&&this.sort()},a.prototype.translate=function(a,b,c){var d=this.options.hiddenClass.replace(".",""),e="matrix(1,0,0,1,"+b+") scale("+(c?"0.001":"1")+")";a.className=a.className.replace(new RegExp(d,"g"),""),c&&(a.className=a.className+" "+d),a.style.setProperty("opacity",c?"0":"1"),a.style.setProperty("-webkit-transform",e),a.style.setProperty("-moz-transform",e),a.style.setProperty("transform",e)},a.prototype.getElements=function(a){return this.elements.length||(this.elements=a.match(/^\.(.+)$/)?this.element.getElementsByClassName(a.replace(".","")):this.element.getElementsByTagName(a)),this.elements},a.prototype.error=function(a){window.console&&window.console.error(a)},window.Sortboard=function(c,d){return new b(new a(c,d))},window.jQuery)){var c,d;window.jQuery.fn.sortboard=function(e){if("string"==typeof e){if(c=this.data("sortboard"),d=c[e],c&&"string"==typeof e&&d)return d.apply(this,Array.prototype.slice.call(arguments,1));window.jQuery.error("Method "+e+" is not supported on jQuery.sortboard.")}else c=new b(new a(this[0],e)),this.data("sortboard",c);return this}}}();